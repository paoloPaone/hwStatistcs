<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sampling Variance Analysis</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="button-styles">
    <style>
        body {
            background-color: #121212;
            color: #ffffff;
            font-family: Arial, sans-serif;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        h1, h2, h3 {
            color: #007bff;
        }

        .custom-btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 50px;
            transition: background-color 0.3s, transform 0.3s;
        }

        .custom-btn:hover {
            background-color: #0056b3;
            transform: translateY(-3px);
        }

        .container-custom {
            margin-top: 40px;
            padding: 20px;
        }

        .paragraph {
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .card {
            border-radius: 15px;
            background-color: #343a40;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 20px;
        }

        .card:hover {
            transform: translateY(10px);
            box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            background-color: #444;
            border-radius: 15px 15px 0 0;
            color: #ffffff;
            font-weight: bold;
            font-size: 18px;
        }

        .card-body {
            background-color: #1d1f1f;
            padding: 20px;
            border-radius: 0 0 15px 15px;
        }

        .card-body pre {
            background-color: #2c2f34;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            color: white;
            white-space: pre-wrap;
            word-wrap: break-word;
            display: none;
        }

        .blue-text {
            color: #007bff;
            font-weight: bold;
        }

        .image-section {
            text-align: center;
            margin-top: 30px;
        }

        .image-section img {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            border: 3px solid #007bff;
        }

        .image-section p {
            font-size: 1.1rem;
            margin-top: 10px;
            color: #cccccc;
        }

        .reflection {
            margin-top: 20px;
            font-size: 1rem;
            color: #cccccc;
            text-align: justify;
        }
              .custom-btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 50px;
            transition: background-color 0.3s, transform 0.3s;
        }

             .home-btn, .optional-btn {
            display: inline-flex;
            align-items: center;
            padding: 10px 20px;
            margin-top: 20px;
            border: 2px solid transparent;
            border-radius: 25px;
            background-color: #007bff; /* Blue background */
            color: white; /* White text */
            text-decoration: none;
            transition: background-color 0.3s, border 0.3s;
            cursor: pointer; /* Change cursor to pointer on hover */
                }
                   .home-btn i, .optional-btn i {
            margin-right: 0;
        }

        .home-btn:hover i, .optional-btn:hover i {
            color: #007bff;
        }

        custom-btn i {
            margin-right: 8px;
        }

        .custom-btn:hover {
            background-color: #0056b3;
            transform: translateY(-3px);
        }


        .home-btn i, .optional-btn i {
            margin-right: 0;
        }
        
        .home-btn:hover, .optional-btn:hover {
        background-color: transparent; /* Make the background transparent on hover */
        border: 2px solid #007bff; /* Blue border on hover */
        color: #007bff; /* Change text color to blue on hover */
        }
        .button-container {
    display: flex;
    justify-content: space-between; /* Spinge i bottoni agli estremi */
    align-items: center;
    margin-bottom: 20px; /* Spazio sotto i bottoni */
}

    </style>
</head>

<body>
<div class="container">
    <!-- Button container for Go to Home and Go to Optional buttons -->
    <div class="button-container">
        <!-- Back to Home Button -->
        <button id="backHomeBtn" class="btn home-btn">
            <i class="fas fa-home"></i> Back to Home
        </button>
        
        <!-- Go to Optional Button -->
        <button id="goToOptionalBtn" class="btn optional-btn" style="margin-left: auto;">
            <i class="fas fa-cogs"></i> Go to Optional
        </button>
    </div>

    <script>
        document.getElementById('backHomeBtn').addEventListener('click', function() {
            window.location.href = 'index.html'; // Change 'index.html' to your homepage URL
        });

        document.getElementById('goToOptionalBtn').addEventListener('click', function() {
            window.location.href = 'optionalhw9.html'; // Change 'optional.html' to the optional page URL
        });
    </script>

    <div class="container container-custom">
        <h1>Sampling Variance and Theoretical Distribution</h1>

        <p class="paragraph">
            In this simulation, we explore the statistical behavior of sampling variance and compare it with the theoretical variance derived from the parent distribution. The aim is to understand how sample variance behaves as the number and size of samples increase, and the impact of using corrected versus uncorrected variance formulas.
        </p>

        <!-- Image Section -->
        <div class="image-section">
            <img src="hw9.png" alt="Graphical representation of variance analysis">
            <p>Figure: Visual representation of the sampling variance distribution and comparison with theoretical values.</p>
        </div>

        <!-- Statistical Reflection -->
        <div class="reflection-container" style="margin-top: 20px; padding: 20px; background-color: #1a1a1a; border-radius: 15px; border: 2px solid black;">
    <p style="color: #cccccc; text-align: justify; font-size: 1.1rem;">
        The results observed in this simulation align with the predictions of the law of large numbers. Specifically, as the number of samples increases, the mean of the sampling variances converges to the theoretical variance of the parent distribution. This convergence highlights the reliability of statistical sampling for estimating population parameters. 
        <br><br>
        Using <span style="color: #007bff; font-weight: bold;">1000</span> samples of size <span style="color: #007bff; font-weight: bold;">20</span>, the theoretical variance provides a benchmark for understanding the behavior of the sampling variance. For smaller sample sizes, deviations from the theoretical variance are expected due to random fluctuations. However, as the sample size (n) increases, the sample variance becomes more stable, and the corrected variance formula ensures an unbiased estimation of the population variance.
        <br><br>
        Overall, these findings demonstrate how the interplay between sample size and the number of samples affects the accuracy and consistency of variance estimates, reinforcing fundamental principles of statistical inference.
    </p>
</div>

<br>

        <!-- Cards for Code Snippets -->
        <div class="row">
            <!-- Card 1: Corrected and Uncorrected Variance -->
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-code"></i> Corrected and Uncorrected Variance Calculation
                    </div>
                    <div class="card-body">
                        <p>The following function computes the sample variance. It allows the user to select whether the corrected or uncorrected formula is used, based on the boolean parameter <span class="blue-text">corrected</span>.</p>
                        <button class="btn custom-btn" onclick="toggleCode(1)">Show Code</button>
                        <pre id="code1">
private double SampleVariance(List<int> sample, bool corrected = true)
{
    double mean = sample.Average();
    double variance = sample.Sum(x => Math.Pow(x - mean, 2));
    return corrected ? variance / (sample.Count - 1) : variance / sample.Count;
}
                        </pre>
                    </div>
                </div>
            </div>

            <!-- Card 2: Theoretical Variance Calculation -->
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-cogs"></i> Theoretical Variance Calculation
                    </div>
                    <div class="card-body">
                        <p>The function below calculates the theoretical variance of a distribution based on its probability mass function. This serves as a benchmark for comparing the sample variance with the population variance.</p>
                        <button class="btn custom-btn" onclick="toggleCode(2)">Show Code</button>
                        <pre id="code2">
private double TheoreticalVariance()
{
    double mean = Enumerable.Range(0, probabilities.Count)
                            .Select(i => i * probabilities[i])
                            .Sum();
    return Enumerable.Range(0, probabilities.Count)
                     .Select(i => probabilities[i] * Math.Pow(i - mean, 2))
                     .Sum();
}
                        </pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript for toggling code display -->
    <script>
        function toggleCode(cardNumber) {
            const codeElement = document.getElementById(`code${cardNumber}`);
            codeElement.style.display = (codeElement.style.display === 'none' || codeElement.style.display === '') ? 'block' : 'none';
        }
    </script>
</body>

</html>
